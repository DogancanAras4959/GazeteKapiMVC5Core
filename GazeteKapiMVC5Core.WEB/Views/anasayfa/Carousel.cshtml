@using GazeteKapiMVC5Core.WEB.ViewModels.News;

@{
    List<NewListViewModelWeb> haberlerManset = ViewBag.HaberlerManset as List<NewListViewModelWeb>;
    int count = 0;
}
<style>
    .popular__news-header-carousel {
        margin-top: 20px;
    }
    .top__news__slider .slick-slide {
        margin-left: 16px;
        width: 237px !important;
    }
    .top__news__slider .slick-list {
        margin-left: -15px !important;
    }
</style>
<div class="top__news__slider">

    @foreach (var item in haberlerManset.OrderByDescending(x => x.Id).Where(x => x.IsActive == true && x.IsLock == false).ToList())
    {
        if (item.IsSlide == false)
        {
            count++;

            <div class="item">
                <!-- Post Article -->
                <div class="article__entry">
                    <div class="article__image">
                        <a href="@Url.Action("haber","anasayfa", new { Id = item.Id, Title = item.GenerateSlug() })">
                            <img src="https://uploads.gazetekapi.com/images/@item.Image" alt="" class="img-fluid">
                        </a>
                    </div>
                    <div class="article__content">
                        <h5 style="font-size:15px;">
                            @if (item.Title.Length > 50)
                            {<a href="@Url.Action("haber", "anasayfa", new { Id = item.Id, Title = item.GenerateSlug() })">@item.Title.Substring(0, 50)<span>...</span> </a>}
                        else
                        {
                            <a href="@Url.Action("haber","anasayfa", new { Id = item.Id, Title = item.GenerateSlug() })">@item.Title</a>
                        }
                        </h5>
                    </div>
                </div>
            </div>

            if (count == 4)
            {
                count = 0;
                break;
            }
        }
    }

</div>