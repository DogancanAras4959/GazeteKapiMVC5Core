@using GazeteKapiMVC5Core.Models.News.GuestModel;
@using GazeteKapiMVC5Core.Models.News.NewsModel;

@{
    List<GuestListViewModel> guestList = ViewBag.GuestList as List<GuestListViewModel>;
    List<NewsLıstItemModel> haberlerManset = ViewBag.HaberlerManset as List<NewsLıstItemModel>;
    int count = 0;
}

<div class="row" style="padding-bottom:5px;">
    <div class="col-sm-12">
        <div class="rect-content-box-title">
            <span class="rect-title">Y</span>
        </div>
        <h4 class="content-box-title">Yazarlar</h4>
    </div>
</div>
<aside class="wrapper__list__article">
    <div class="wrapper__list-number">
        @foreach (var item in guestList)
        {
            @if (item.GuestName != "Yazar Yok")
            {
                count++;
                <div class="mb-3">
                    <!-- Post Article -->
                    <div class="card__post card__post-list">
                        <div class="image-sm">
                            <a href="./card-article-detail-v1.html">
                                <img src="~/Files/@item.GuestImage" class="img-fluid" alt="">
                            </a>
                        </div>
                        <div class="card__post__body ">
                            <div class="card__post__content">
                                <div class="card__post__author-info mb-2">
                                    <ul class="list-inline">
                                        <li class="list-inline-item">
                                            <span class="text-primary">
                                                <a asp-action="yazaryazilari" asp-controller="anasayfa" asp-route-id="@item.Id"> @item.GuestName</a>
                                            </span>
                                        </li>
                                    </ul>
                                </div>
                                @foreach (var item2 in haberlerManset.Where(x => x.GuestId == item.Id).OrderBy(x => x.Id).ToList())
                                {
                                    int count2 = 0;
                                    count2++;

                                    <div class="card__post__title">
                                        <h6>
                                            <a href="./card-article-detail-v1.html">
                                                @item2.Title
                                            </a>
                                        </h6>
                                    </div>

                                    if (count2 == 1)
                                    {
                                        count2 = 0;
                                        break;
                                    }
                                }

                            </div>
                        </div>
                    </div>
                </div>

                if (count == 6)
                {
                    count = 0;
                    break;
                }
            }

        }
        <!-- List Article -->

    </div>
</aside>